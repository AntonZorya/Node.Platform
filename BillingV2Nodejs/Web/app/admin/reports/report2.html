<div ng-controller="report2Ctrl" id="container">

	<h4>Отчет по водопотреблению</h4>

	<div class="ui grid">
		<div class="four wide column">
			<span>Месяц:</span>
			<select ng-model="selectedMonth" ng-options="month.name for month in monthList track by month.id" ng-change="getReport(selectedYear.id,selectedMonth.id)"></select>
		</div>
		<div class="four wide column">
			<span>Год:</span>
			<select ng-model="selectedYear" ng-options="year.name for year in yearList track by year.id" ng-change="getReport(selectedYear.id,selectedMonth.id)"></select>
		</div>
		<div class="four wide column"></div>
		<div class="four wide column"></div>
	</div>



	<table class="ui very compact celled  table">
		<thead>
			<tr>
				<th >Контролер</th>
				<th >Количество объектов</th>
				<th >Вода, м3</th>
				<th >Канализация, м3</th>
				<th >Вода, тенге</th>
				<th >Канализация, тенге</th>
				<th >Штраф, тенге</th>
				<th >Всего, тенге</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="res in result">
				<td >{{res.controllerId}}</td>
				<td class="right aligned">{{res.passed | number:0}}</td>
				<td class="right aligned">{{res.sumWaterCubic | number:2}}</td>
				<td class="right aligned">{{res.sumCanalCubic | number:2}}</td>
				<td class="right aligned">{{res.sumWaterMoney | number:2}}</td>
				<td class="right aligned">{{res.sumCanalMoney | number:2}}</td>
				<td class="right aligned">{{res.sumForfeitMoney | number:2}}</td>
				<td class="right aligned">{{res.sumTotalMoney | number:2}}</td>
			</tr>
		</tbody>
		<tfoot>
			<tr >
				<th >Общий итог</th>
				<th class="right aligned">{{resultTotals.passed | number:0}}</th>
				<th class="right aligned">{{resultTotals.sumWaterCubic | number:2}}</th>
				<th class="right aligned">{{resultTotals.sumCanalCubic | number:2}}</th>
				<th class="right aligned">{{resultTotals.sumWaterMoney | number:2}}</th>
				<th class="right aligned">{{resultTotals.sumCanalMoney | number:2}}</th>
				<th class="right aligned">{{resultTotals.sumForfeitMoney | number:2}}</th>
				<th class="right aligned">{{resultTotals.sumTotalMoney | number:2}}</th>
			</tr>
		</tfoot>
	</table>

</div>

<style>
	.ui.table tfoot th{
		background: #f9fafb;
	}
</style>